import{r as e,d as a,w as l,i as s,e as t,f as u,h as o,F as n,j as c,m as d,l as r,I as i,y as p,Q as f,R as m,c as _,s as v}from"./index-DWDfi1U8.js";import{c as g}from"./user.kUnp2BN6.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.D9Dqt54M.js";const b=h({__name:"change-password",setup(h){const b=e(""),w=e(""),V=e("");function j(){f().length>1?m():_({url:"/pages/home/home"})}function k(){if(!b.value||!w.value||!V.value)return void v({title:"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯",icon:"none"},1500);if(V.value.length<6)return void v({title:"å¯†ç é•¿åº¦è‡³å°‘6ä½",icon:"none"},1500);let e=0;/[a-z]/.test(V.value)&&e++,/[A-Z]/.test(V.value)&&e++,/[0-9]/.test(V.value)&&e++,/[^A-Za-z0-9]/.test(V.value)&&e++,e<2?v({title:"å¯†ç éœ€åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ä¸­è‡³å°‘ä¸¤ç§",icon:"none"},1500):g({username:b.value,password:w.value,new_password:V.value}).then(e=>{console.log("ä¿®æ”¹å¯†ç å“åº”:",e),e&&0===e.code?(v({title:e.msg,icon:"success"},1500),setTimeout(()=>{m()},1500)):v({title:e.msg||"ä¿®æ”¹å¤±è´¥",icon:"none"},1500)}).catch(e=>{console.error("ä¿®æ”¹å¯†ç é”™è¯¯:",e),v({title:e.msg||"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",icon:"none"},1500)})}return(e,f)=>{const m=s,_=d,v=i,g=p;return t(),a(m,{class:"password-container"},{default:l(()=>[u(m,{class:"bg-overlay"},{default:l(()=>[u(m,{class:"bg-grid"}),u(m,{class:"bg-particles"},{default:l(()=>[(t(),o(n,null,c(6,e=>u(m,{class:"particle",key:e})),64))]),_:1})]),_:1}),u(m,{class:"back-btn",onClick:j},{default:l(()=>[u(_,{class:"back-icon"},{default:l(()=>[r("â†")]),_:1})]),_:1}),u(m,{class:"password-card"},{default:l(()=>[u(m,{class:"card-header"},{default:l(()=>[u(_,{class:"header-icon"},{default:l(()=>[r("ğŸ”")]),_:1}),u(_,{class:"header-title"},{default:l(()=>[r("ä¿®æ”¹å¯†ç ")]),_:1}),u(_,{class:"header-subtitle"},{default:l(()=>[r("ä¿æŠ¤æ‚¨çš„è´¦æˆ·å®‰å…¨")]),_:1})]),_:1}),u(m,{class:"form-container"},{default:l(()=>[u(m,{class:"input-group"},{default:l(()=>[u(_,{class:"input-label"},{default:l(()=>[r("ç”¨æˆ·å")]),_:1}),u(v,{class:"form-input",modelValue:b.value,"onUpdate:modelValue":f[0]||(f[0]=e=>b.value=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),u(m,{class:"input-group"},{default:l(()=>[u(_,{class:"input-label"},{default:l(()=>[r("å½“å‰å¯†ç ")]),_:1}),u(v,{class:"form-input",modelValue:w.value,"onUpdate:modelValue":f[1]||(f[1]=e=>w.value=e),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç "},null,8,["modelValue"])]),_:1}),u(m,{class:"input-group"},{default:l(()=>[u(_,{class:"input-label"},{default:l(()=>[r("æ–°å¯†ç ")]),_:1}),u(v,{class:"form-input",modelValue:V.value,"onUpdate:modelValue":f[2]||(f[2]=e=>V.value=e),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"},null,8,["modelValue"]),u(_,{class:"password-tip"},{default:l(()=>[r("å¯†ç éœ€åŒ…å«å­—æ¯ã€æ•°å­—ç­‰è‡³å°‘ä¸¤ç§å­—ç¬¦")]),_:1})]),_:1}),u(g,{class:"submit-btn",onClick:k},{default:l(()=>[u(_,{class:"btn-text"},{default:l(()=>[r("ç¡®è®¤ä¿®æ”¹")]),_:1}),u(m,{class:"btn-glow"})]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-a85bc773"]]);export{b as default};
